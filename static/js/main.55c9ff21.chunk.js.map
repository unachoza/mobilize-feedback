{"version":3,"sources":["Context/event.context.js","Components/Map/map.component.js","Constants/constants.js","Components/Form/addEventFilter.component.js","Components/Form/form.component.js","Components/EventTag/eventTag.component.js","Components/Event/event.component.js","Components/loadingSpinner/loadingSpinner.component.js","Components/EventList/eventList.component.js","Components/Header/header.component.js","API/MobilizeFetch.js","Components/App.js","index.js"],"names":["EventsContext","createContext","undefined","EventMarker","useState","selectedMarker","setSelectedMarker","divStyle","background","color","height","marginLeft","fontSize","fontWeight","alignBottom","pane","Consumer","fetchedEvents","filter","event","coordinates","lat","map","i","key","defaultAnimation","Animation","bounce","onClick","markers","title","position","lng","onCloseClick","style","href","link","target","rel","textDecoration","eventType","React","memo","locateMapCenter","center","find","className","id","googleMapsApiKey","process","mapContainerStyle","width","overflow","borderRadius","border","boxShadow","zoom","EVENT_TYPES","MOBILZE_BASE_URL","AddEventFilter","handleEventFilters","doneAddingEvents","type","name","value","hidden","for","replace","RegExp","toLowerCase","formatEventTypes","display","margin","Form","props","query","setQuery","eventTypeQuery","setEventTypeQuery","addEventTypesVisible","setAddEventTypesVisible","placeholder","onBlur","e","preventDefault","oldUpdateRequestUrl","moreInputs","length","join","document","querySelectorAll","forEach","el","checked","EventTagFooter","eventTags","eventDate","removeUnderscores","input","backgroundColor","start","Math","round","Date","getTime","translateUnixToDateRange","Event","unixTimestamp","displayDetails","setDisplayDetails","toggleDisplayDetails","details","toLocaleString","toUpperCase","override","css","LoadingSpinner","loading","sizeUnit","size","EventList","events","lastEventElementRef","Object","entries","ref","Header","src","alt","normalizeEventData","showEventDetails","event_type","description","zipcode","location","postal_code","latitude","longitude","timeslots","start_date","end_date","url","browser_url","eventImg","featured_image_url","App","pageNumber","setPageNumber","requestUrl","setRequestUrl","setLoading","error","setError","setFetchedEvents","hasMore","setHasMore","nextPage","setNextPage","useEffect","a","axios","get","data","prevEvents","Set","count","next","console","log","message","fetchingFromAPI","useEventsFetch","observer","useRef","useCallback","node","current","disconnect","IntersectionObserver","isIntersecting","prevPageNumber","observe","Provider","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.55c9ff21.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nexport const EventsContext = createContext(undefined)\n\nexport default EventsContext","import React, { useState, useEffect } from 'react';\nimport { GoogleMap, LoadScript, Marker, InfoWindow } from '@react-google-maps/api';\nimport 'Components/Map/map.styles.css';\nimport EventsContext from 'Context/event.context';\nconst API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n\nconst EventMarker = () => {\n  const [selectedMarker, setSelectedMarker] = useState(null);\n\n  const divStyle = {\n    background: `white`,\n    color: '#004ac7',\n    height: '100%',\n    marginLeft: '10px',\n    fontSize: '15px',\n    fontWeight: '600',\n    alignBottom: true,\n    pane: 'mapPane',\n  };\n\n  return (\n    <EventsContext.Consumer>\n      {(fetchedEvents) => (\n          <div>\n            {fetchedEvents\n              .filter((event) => event.coordinates.lat)\n              .map((event, i) => (\n                <Marker\n                  key={i}\n                  defaultAnimation={Animation.bounce}\n                  onClick={() => setSelectedMarker(event)}\n                  markers={event.title}\n                  position={{\n                    lat: event.coordinates.lat,\n                    lng: event.coordinates.lng,\n                  }}\n                />\n              ))}\n            {selectedMarker && (\n              <InfoWindow\n                position={{\n                  lat: selectedMarker.coordinates.lat,\n                  lng: selectedMarker.coordinates.lng,\n                }}\n                onCloseClick={() => setSelectedMarker(null)}\n              >\n                <div style={divStyle}>\n                  <p>\n                    <a\n                      href={selectedMarker.link}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      style={{ textDecoration: 'none', color: '#004ac7' }}\n                    >\n                      {selectedMarker.title}\n                    </a>\n                  </p>\n                  <p>{selectedMarker.eventType}</p>\n                </div>\n              </InfoWindow>\n            )}\n          </div>\n        )\n      }\n    </EventsContext.Consumer>\n  );\n};\n\nconst Map = () => {\n  const locateMapCenter = (\n    fetchedEvents,\n    center = {\n      lat: 40.7282702,\n      lng: -73.9506774,\n    }\n  ) => {\n    if (fetchedEvents) center = fetchedEvents.find((event) => event.coordinates.lat);\n    return center.coordinates;\n  };\n  return (\n    <div className=\"map-container\">\n      <LoadScript id=\"script-loader\" googleMapsApiKey={API_KEY}>\n        <EventsContext.Consumer>\n          {(fetchedEvents) => (\n            <GoogleMap\n              id=\"circle-example\"\n              mapContainerStyle={{\n                height: '60vh',\n                width: '60vw',\n                overflow: 'hidden',\n                borderRadius: '20px',\n                border: 'solid #0d0a92 2px',\n                boxShadow: '0 1rem 2rem rgba(0,0,0,.8)',\n              }}\n              zoom={12}\n              center={locateMapCenter(fetchedEvents)}\n            >\n              <EventMarker />\n            </GoogleMap>\n          )}\n        </EventsContext.Consumer>\n      </LoadScript>\n    </div>\n  );\n};\n\nexport default React.memo(Map);\n","export const DEFAULT_PER_PAGE = 'per_page=12';\nexport const DEFAULT_ZIPCODE = 10001;\nexport const EVENTS_IN_2020 = 'timeslot_start=gte_1577836800';\nexport const CURRENT_EVENTS = 'timeslot_start=gte_now';\nexport const DATE_FILTER = {\n  APRIL_2020: 'timeslot_start=gte_1585699200& timeslot_start=lt_1588204800',\n  MAY_2020: 'timeslot_start=gte_1588291200& timeslot_start=lt_1590883200',\n};\nexport const EVENT_TYPES = [\n  'canvass',\n  'phone_bank ',\n  'fundraiser',\n  'voter_reg',\n  'training',\n  'debate_watch_party',\n  'town_hall',\n  'barnstorm',\n  'signature_gathering',\n];\n\nexport const MOBILZE_BASE_URL = `https://api.mobilize.us/v1/events?${DEFAULT_PER_PAGE}&${EVENTS_IN_2020}`;\n","import React from 'react';\nimport { EVENT_TYPES } from 'Constants/constants';\n\nconst formatEventTypes = (event) => event.replace(new RegExp('_', 'g'), ' ').toLowerCase();\n\nconst AddEventFilter = ({ handleEventFilters, doneAddingEvents }) => {\n  return (\n    <div>\n      <form className=\"form\">\n        {EVENT_TYPES.map((event, i) => (\n          <div key={i} className=\"event-type__option\">\n            <input type=\"checkbox\" id={event} name={event} value={event} hidden onClick={handleEventFilters} />\n            <label for={event} value={event}>\n              {formatEventTypes(event)}\n            </label>\n          </div>\n        ))}\n        <span style={{ display: 'flex', margin: '0px auto' }}>\n          <button onClick={(event) => doneAddingEvents(event)}>submit</button>\n        </span>\n      </form>\n    </div>\n  );\n};\n\nexport default AddEventFilter;\n","import React, { useState } from 'react';\nimport AddEventFilter from 'Components/Form/addEventFilter.component';\nimport 'Components/Form/form.styles.css';\n\nconst Form = (props) => {\n  const [query, setQuery] = useState('');\n  const [eventTypeQuery, setEventTypeQuery] = useState([]);\n  const [addEventTypesVisible, setAddEventTypesVisible] = useState(false);\n\n  const handleZipcodeQuery = (event) => {\n    event.preventDefault();\n    props.oldUpdateRequestUrl(query);\n  };\n\n  const clearCheckboxesFromForm = () => {\n    document.querySelectorAll('input[type=checkbox]').forEach((el) => (el.checked = false));\n  };\n\n\n  const handleEventFilters = (event) => {\n    const { value } = event.target;\n    setEventTypeQuery([...eventTypeQuery, value]);\n  };\n\n  const doneAddingEvents = (event) => {\n    event.preventDefault();\n    const moreInputs =\n      eventTypeQuery.length > 1\n        ? eventTypeQuery.map((type) => '&event_types=' + type).join('')\n        : '&event_types=' + eventTypeQuery;\n    props.oldUpdateRequestUrl(query, moreInputs);\n    clearCheckboxesFromForm();\n    setEventTypeQuery([]);\n    return moreInputs;\n  };\n\n  return (\n    <div className=\"form-container\">\n      <form className=\"zip-input\">\n        <input\n          className=\"zip-input\"\n          placeholder=\"enter zip code\"\n          type=\"text\"\n          name=\"zipcode\"\n          onBlur={(e) => setQuery(e.target.value)}\n        />\n        {!addEventTypesVisible && (\n          <button onClick={handleZipcodeQuery} className=\"zipcode\">\n            Search\n          </button>\n        )}\n         {!addEventTypesVisible && <button className=\"zipcode\" onClick={(e) => setAddEventTypesVisible(true)}>Add Filters</button>}\n      </form>\n      {addEventTypesVisible && <AddEventFilter handleEventFilters={handleEventFilters} doneAddingEvents={doneAddingEvents} />}\n    </div>\n  );\n};\n\nexport default Form;\n","import React from 'react';\nimport 'Components/EventTag/eventTag.styles.css';\n\nconst EventTagFooter = ({ eventTags: { eventType, eventDate, link } }) => {\n  const translateUnixToDateRange = (eventDate) => (\n   eventDate.start >= Math.round(new Date().getTime() / 1000) ?\n      'CURRENT' : \"PASSED\"\n  )\n  \n  const removeUnderscores = (input) => input.replace(new RegExp('_', 'g'), ' ');\n  return (\n    <div className=\"tag__container\">\n      <div className=\"tag\" style={{ backgroundColor: '#004ac7' }}>\n        {removeUnderscores(eventType)}\n      </div>\n      <div className=\"tag\" style={{ backgroundColor: '#3CB371' }}>\n        <a href={link} target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none', color: 'white', }}>\n          JOIN EVENT\n        </a>\n      </div>\n      <div className=\"tag\" style={{  backgroundColor: '#474747' }}>\n        {removeUnderscores(translateUnixToDateRange(eventDate))}\n      </div>\n    </div>\n  );\n};\n\nexport default EventTagFooter;\n","import React, { useState } from 'react';\nimport EventTagFooter from 'Components/EventTag/eventTag.component';\nimport 'Components/Event/event.styles.css';\n\nconst Event = (props) => {\n  const [displayDetails, setDisplayDetails] = useState(false);\n\n  const getDate = (unixTimestamp) => {\n    const dateObject = new Date(unixTimestamp * 1000).toLocaleString();\n    return dateObject.replace(':00', '');\n  };\n  const toggleDisplayDetails = () => {\n    setDisplayDetails(!displayDetails);\n  };\n  const { title, details, eventDate } = props.event[1];\n  return (\n    <div className=\"event-card\" onClick={toggleDisplayDetails}>\n      <div className=\"event-card__date\">{getDate(eventDate.start)} </div>\n      <div className=\"event-card__title\" onClick={toggleDisplayDetails}>\n        {title.toUpperCase()}\n      </div>\n      {displayDetails ? <div className=\"event-card__description\">{details}</div> : null}\n      <EventTagFooter eventTags={props.event[1]} />\n    </div>\n  );\n};\n\nexport default Event;\n","import React from 'react';\nimport { css } from '@emotion/core';\nimport { PulseLoader } from 'react-spinners';\n\nconst override = css`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 200px;\n`;\n\nconst LoadingSpinner = ({loading}) => (\n  <div className=\"sweet-loading\">\n  <PulseLoader css={override} sizeUnit={'px'} size={15} margin={6} color={'#004ac7'} loading={loading} />\n  </div>\n)\n\nexport default LoadingSpinner;\n","import React from 'react';\nimport Event from 'Components/Event/event.component';\nimport 'Components/EventList/eventList.styles.css';\nimport LoadingSpinner from 'Components/loadingSpinner/loadingSpinner.component';\n\n\nconst EventList = ({ events, lastEventElementRef, loading }) => {\n  return (\n    <div className=\"event-list__container\">\n      {!events.length ? (\n        <div className=\"no-results\">\n          Oh dear!<br></br> Your search returned no events.\n        </div>\n      ) :\n        (events.length < 2 ? <Event event={events[0]} />\n          : Object.entries(events)\n            .map((event, i) => (\n             (events.length === i + 1) ?\n                <div ref={lastEventElementRef} key={i}>{event.title}</div>\n                : <Event key={i} event={event} />\n            ))\n        )\n      }\n      {loading && <LoadingSpinner loading={loading} />}\n    </div>\n  );\n};\n\nexport default EventList;\n","import React from 'react';\nimport 'Components/Header/header.styles.css';\n\nconst Header = () => (\n  <div className=\"header\">\n    <img\n      src=\"https://uploads-ssl.webflow.com/5e2f6f2acb2e5ea801e164bb/5e4f731d9da233ac2e3922f8_fpo-logo-white.svg\"\n      alt=\"logo\"\n      style={{ width: '15%' }}\n    ></img>\n    <div className=\"header__title\">Search Mobilze Database for events displayed on map</div>\n  </div>\n);\n\nexport default Header;\n","import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { MOBILZE_BASE_URL, DEFAULT_ZIPCODE } from 'Constants/constants';\n\nconst normalizeEventData = (event) => ({\n  id: event.id,\n  showEventDetails: false,\n  eventType: event.event_type,\n  title: event.title,\n  details: event.description,\n  zipcode: event.location?.postal_code || null,\n  coordinates: {\n    lat: event.location?.location?.latitude || null,\n    lng: event.location?.location?.longitude || null,\n  },\n  eventDate: {\n    start: event.timeslots[event.timeslots.length - 1]?.start_date || null,\n    end_date: event.timeslots[event.timeslots.length - 1]?.end_date || null,\n  },\n  url: event.browser_url || null,\n  eventImg: event.featured_image_url || null,\n  link: event.browser_url || null\n});\n\n\nexport const useEventsFetch = ( pageNumber, requestUrl) => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [fetchedEvents, setFetchedEvents] = useState([]);\n  const [hasMore, setHasMore] = useState(false);\n  const [nextPage, setNextPage] = useState(null);\n\n  useEffect((nextPage, fetchedEvents) => {\n    setNextPage(null);\n    setFetchedEvents([]);\n    \n  }, [requestUrl]);\n  \n  useEffect(() => {\n    const fetchingFromAPI = async () => {\n      setLoading(true);\n      setError(false);\n      try {\n        let data \n        if (pageNumber > 1) data = await axios.get(nextPage);\n        else if (requestUrl) data = await axios.get(requestUrl);\n        else data = await axios.get(MOBILZE_BASE_URL + \"&zipcode=\" + DEFAULT_ZIPCODE);\n        setFetchedEvents((prevEvents) => {\n          return [...new Set([...prevEvents, ...data.data.data.map((event) => normalizeEventData(event))])];\n        });\n        setHasMore(data.data.count > 0);\n        setNextPage(data.data.next)\n        setLoading(false);\n      } catch (e) {\n        console.log('this is the error', e.message)\n        setError(true);\n      }\n    };\n\n    fetchingFromAPI();\n  }, [ pageNumber, requestUrl]);\n\n  return { loading, error, fetchedEvents, hasMore };\n};\n\n\n","import React, { useState, useRef, useCallback } from 'react';\nimport Map from 'Components/Map/map.component';\nimport Form from 'Components/Form/form.component';\nimport EventList from 'Components/EventList/eventList.component';\nimport Header from 'Components/Header/header.component';\nimport { useEventsFetch } from 'API/MobilizeFetch';\nimport { EventsContext } from 'Context/event.context';\nimport 'Components/App.css';\nimport LoadingSpinner from 'Components/loadingSpinner/loadingSpinner.component';\nimport { MOBILZE_BASE_URL } from 'Constants/constants';\n\nconst App = () => {\n  const [pageNumber, setPageNumber] = useState(1);\n  const [requestUrl, setRequestUrl] = useState(null);\n  const { loading, error, fetchedEvents, hasMore } = useEventsFetch(pageNumber, requestUrl);\n\n  //infinite scroll\n  const observer = useRef();\n  const lastEventElementRef = useCallback(\n    (node) => {\n      if (loading) return;\n      if (observer.current) observer.current.disconnect();\n      observer.current = new IntersectionObserver((entries) => {\n        if (entries[0].isIntersecting) {\n        }\n        if (entries[0].isIntersecting && hasMore) {\n          setPageNumber((prevPageNumber) => prevPageNumber + 1);\n        }\n      });\n      if (node) observer.current.observe(node);\n    },\n    [loading, hasMore]\n  );\n\n  const oldUpdateRequestUrl = (input, moreInputs = '') => {\n    setRequestUrl(MOBILZE_BASE_URL + '&zipcode=' + input + moreInputs);\n    setPageNumber(1);\n  };\n\n  return (\n    <div>\n      <Header />\n      <div className=\"body\">\n        {!loading ? (\n          <EventsContext.Provider value={fetchedEvents}>\n            <EventList events={fetchedEvents} loading={loading} lastEventElementRef={lastEventElementRef} />\n            <div className=\"main-page\">\n              <Form oldUpdateRequestUrl={oldUpdateRequestUrl} />\n              {error && <div>ZipCode Not Valid</div>}\n              <Map />\n            </div>\n          </EventsContext.Provider>\n        ) : (\n          <LoadingSpinner loading={loading} />\n        )}\n      </div>\n    </div>\n  );\n};\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from 'Components/App'\nimport 'index.css'\n\nReactDOM.render(<App />, document.querySelector('#root'))"],"sourceRoot":""}